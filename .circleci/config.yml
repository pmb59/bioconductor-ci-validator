version: 2.1

orbs: 
  versioning: kollex/versioning@1.0.0
  
jobs:  
  build:
    working_directory: /bioconductor-ci-validator
    docker:
      - image: bioconductor/bioconductor_docker:devel
    steps:
      - define_version
      - print_version
      - checkout
      - create_version_file
      - run:
          name: check r installation
          command: R --version
      - run:
          name: build and check bioconductor packages
          no_output_timeout: 50m
          command: bash build.sh
